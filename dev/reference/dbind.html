<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Diagonally bind together subgroup-specific distances — dbind • optmatch</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Diagonally bind together subgroup-specific distances — dbind"><meta name="description" content="This function generates a single block-diagonal distance matrix given
several distance matrices defined on subgroups."><meta property="og:description" content="This function generates a single block-diagonal distance matrix given
several distance matrices defined on subgroups."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">optmatch</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.10.8.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/fullmatch-vignette.html">Matching in R using the optmatch package</a></li>
    <li><a class="dropdown-item" href="../articles/matching-from-foreign-software.html">Using Optmatch on data in SAS, Stata, etc</a></li>
    <li><a class="dropdown-item" href="../articles/matching-within-subgroups.html">Combining Matches Within Subgroups</a></li>
    <li><a class="dropdown-item" href="../articles/MCFSolutions.html">Classes and methods for min-cost flow solutions</a></li>
    <li><a class="dropdown-item" href="../articles/performance.html">Performance Testing</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/markmfredrickson/optmatch/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Diagonally bind together subgroup-specific distances</h1>
      <small class="dont-index">Source: <a href="https://github.com/markmfredrickson/optmatch/blob/master/R/InfinitySparseMatrix.R" class="external-link"><code>R/InfinitySparseMatrix.R</code></a></small>
      <div class="d-none name"><code>dbind.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates a single block-diagonal distance matrix given
several distance matrices defined on subgroups.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dbind</span><span class="op">(</span><span class="va">...</span>, force_unique_names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Any number of distance objects which can be converted to
<code>InfinitySparseMatrix</code>, such as class <code>matrix</code>,
<code>DenseMatrix</code>, <code>InfinitySparseMatrix</code>, or
<code>BlockedInfinitySparseMatrix</code>, or <code>list</code>s containing distance
objects.</p></dd>


<dt id="arg-force-unique-names">force_unique_names<a class="anchor" aria-label="anchor" href="#arg-force-unique-names"></a></dt>
<dd><p>Default <code>FALSE</code>. When row or column names are
not unique among all distances, if <code>FALSE</code>, throw a warning and
rename all rows and columns to ensure unique names. If <code>TRUE</code>, error
on non-unique names.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>BlockedInfinitySparseMatrix</code> containing a block-diagonal
  distance matrix. If only a single distance is passed to <code>dbind</code> and
  it is not already a <code>BlockedInfinitySparseMatrix</code>, the result will be
  an <code>InfinitySparseMatrix</code> instead.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When you've generated several distances matrices on subgroups in your
analysis, you may wish to combine them into a single block-diagonal distance
matrix. The <code>dbind</code> function facilitates this.</p>
<p>Any <code>BlockedInfinitySparseMatrix</code> include in <code>...</code> will be broken
into individual <code>InfinitySparseMatrix</code> before being joined back
together. For example, if <code>b</code> is a <code>BlockedInfinitySparseMatrix</code>
with 2 subgroups and <code>m</code> is a distance without subgroups, then
<code>dbind(b, m)</code> will be a <code>BlockedInfinitySparseMatrix</code> with 3
subgroups.</p>
<p>If there are any shared names (either row or column) among all distances
passed in, by default all matrices will be renamed to ensure unique names by
appending "X." to each distance, where "X" is ascending lower case letters
("a.", "b.", etc). Setting the <code>force_unique_names</code> argument to
<code>TRUE</code> errors on this instead.</p>
<p>If the matrices need to be renamed and there are more than 26 separate
matrices, after the first 26 single "X." prefixs, they will continue as
"YX.", e.g "aa.", "ab.", "ac.". If more than 676 separate matrices, the
prefix wil continue to "ZYX.", e.g. "aaa.", "aab.", "aac.". This scheme
supports up to 18,278 unique matrices.</p>
<p>Note that you do <strong>not</strong> have to combine subgroup distances into a
single blocked distance using this function to ultimately obtain a single
matching set. Instead, take a look at the vignette
<code><a href="../articles/matching-within-subgroups.html">vignette("matching-within-subgroups", package = "optmatch")</a></code> for
details on combining multiple matches.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">nuclearplants</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="match_on-methods.html">match_on</a></span><span class="op">(</span><span class="va">pr</span> <span class="op">~</span> <span class="va">cost</span>, data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">nuclearplants</span>, <span class="va">pt</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               caliper <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="match_on-methods.html">match_on</a></span><span class="op">(</span><span class="va">pr</span> <span class="op">~</span> <span class="va">cost</span>, data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">nuclearplants</span>, <span class="va">pt</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               caliper <span class="op">=</span> <span class="fl">1.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">blocked</span> <span class="op">&lt;-</span> <span class="fu">dbind</span><span class="op">(</span><span class="va">m1</span>, <span class="va">m2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dists</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">m2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">blocked2</span> <span class="op">&lt;-</span> <span class="fu">dbind</span><span class="op">(</span><span class="va">dists</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="va">blocked</span>, <span class="va">blocked2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Hansen, Mark Fredrickson, Josh Errickson, Josh Buckner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


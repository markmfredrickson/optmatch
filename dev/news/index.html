<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • optmatch</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">optmatch</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.10.2.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/fullmatch-vignette.html">Matching in R using the optmatch and RItools packages</a>
    <a class="dropdown-item" href="../articles/matching-from-foreign-software.html">Using Optmatch on data in SAS, Stata, etc</a>
    <a class="dropdown-item" href="../articles/matching-within-subgroups.html">Combining Matches Within Subgroups</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/markmfredrickson/optmatch/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/markmfredrickson/optmatch/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.2" id="changes-in-optmatch-version-0102">Changes in <strong>optmatch</strong> version 0.10.2<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-0102"></a></h2>
<p>Minor patch to correct <code>License_is_FOSS</code> and <code>License_restricts_use</code> flags.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.1" id="changes-in-optmatch-version-0101">Changes in <strong>optmatch</strong> Version 0.10.1<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-0101"></a></h2><p class="text-muted">CRAN release: 2022-05-13</p>
<div class="section level3">
<h3 id="interface-changes-0-10-1">Interface changes<a class="anchor" aria-label="anchor" href="#interface-changes-0-10-1"></a></h3>
<ul><li>The rank Mahalanobis distance being created in <code><a href="../reference/match_on-methods.html">match_on()</a></code> using the argument <code>method = "rank_mahalanobis"</code> was accidentally returning the squared distance rather than the distance. This has been fixed. To recover results using the squared distance, square the results, e.g.: <code>match_on(..., method = "rank_mahalanobis")^2</code>. (Thanks Noah Greifer <a href="https://github.com/markmfredrickson/optmatch/issues/218" class="external-link">#218</a>)</li>
<li>New function <code><a href="../reference/as.list.BlockedInfinitySparseMatrix.html">as.list.BlockedInfinitySparseMatrix()</a></code> to split a single <code>BlockedInfinitySparseMatrix</code> into a <code>list</code> of <code>InfinitySparseMatrix</code> based upon the separate blocks. (Called via <code>as.list(b)</code> when <code>b</code> is a <code>BlockedInfinitySparseMatrix</code>.)</li>
<li>New function <code><a href="../reference/dbind.html">dbind()</a></code> for binding several distance matrices into a single <code>BlockedInfinitySparseMatrix</code>. Valid inputs include any distance convertible into an <code>InfinitySparseMatrix</code>, or <code>BlockedInfinitySparseMatrix</code>, or <code>list</code>s of these. (<a href="https://github.com/markmfredrickson/optmatch/issues/65" class="external-link">#65</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="infrastructure-changes-0-10-1">Infrastructure changes<a class="anchor" aria-label="anchor" href="#infrastructure-changes-0-10-1"></a></h3>
<ul><li>Manually correcting <code>License_is_FOSS</code> and <code>License_restricts_use</code> flags after 0.10.0 transition to an open license.</li>
<li>
<strong>optmatch</strong> no longer depends on <strong>digest</strong>, <strong>RItools</strong>, or <strong>survey</strong>, or imports from <strong>survival</strong>. This should harden us against unexpected downtime should any of these packages be removed from CRAN.<ul><li>Implemented <code><a href="../reference/strata.html">optmatch::strata</a></code> to be used in place of <code><a href="https://rdrr.io/pkg/survival/man/strata.html" class="external-link">survival::strata</a></code>. Loading <strong>survival</strong> and masking <code>strata</code> should not cause issues either.</li>
<li>Hashing of distance matrixes is now done internally.</li>
<li>
<strong>RItools</strong> and <strong>survey</strong> are now only suggested with appropriate warnings if users attempt to utilize code with them without first installing the packages.</li>
</ul></li>
<li>Modernized some vignettes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.0" id="changes-in-optmatch-version-0100">Changes in <strong>optmatch</strong> Version 0.10.0<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-0100"></a></h2><p class="text-muted">CRAN release: 2022-03-15</p>
<div class="section level3">
<h3 id="major-changes-0-10-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-0-10-0"></a></h3>
<ul><li>
<strong>optmatch</strong> no longer includes the RELAX-IV solver internally. That solver can be still be used by installing the new <strong>rrelaxiv</strong> package (which will <em>not</em> be hosted on CRAN). When <strong>rrelaxiv</strong> is not available, <strong>optmatch</strong> instead uses a min-cost flow solver provided by the LEMON project, <a href="https://lemon.cs.elte.hu/trac/lemon" class="external-link uri">https://lemon.cs.elte.hu/trac/lemon</a>; bindings to these are provided by the <strong>rlemon</strong> package. The user interface remains the same, other than a new optional argument for specifying which solver to use. In <em>very</em> limited testing, we’ve seen similar matching results with the new solver.</li>
<li>The <strong>rlemon</strong> package offers bindings to four LEMON solvers. See <code><a href="../reference/fullmatch.html">help(fullmatch)</a></code> for a discussion on those, and the new argument to <code><a href="../reference/fullmatch.html">fullmatch()</a></code>, <code>solver =</code>.</li>
<li>To continue using the RELAX-IV solver, whether for back-compatibility or as a matter of preference, install the <strong>rrelaxiv</strong> package, from <a href="https://errickson.net/rrelaxiv/" class="external-link uri">https://errickson.net/rrelaxiv/</a>. If <strong>rrelaxiv</strong> is installed, RELAX-IV will become the default solver automatically.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-0-10-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-10-0"></a></h3>
<ul><li>Remove dependence on the <strong>digest</strong> package when generating hashes of distance matrices.</li>
<li>
<strong>RItools</strong> is moved to Suggests instead of Imports.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-17" id="changes-in-optmatch-version-09-17">Changes in <strong>optmatch</strong> Version 0.9-17<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-17"></a></h2><p class="text-muted">CRAN release: 2022-02-22</p>
<ul><li>Fix to FORTRAN to conform with Writing R Extensions §6.6.2.</li>
<li>Observations with NAs in a blocking variable are now retained, although marked as unmatchable (<a href="https://github.com/markmfredrickson/optmatch/issues/206" class="external-link">#206</a>). And similarly for observations with NAs in a scalar matching variable (<a href="https://github.com/markmfredrickson/optmatch/issues/189" class="external-link">#189</a>).</li>
<li>Minor bug fix(es) incl. #211, <a href="https://github.com/markmfredrickson/optmatch/issues/204" class="external-link">#204</a></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-16" id="changes-in-optmatch-version-09-16">Changes in <strong>optmatch</strong> Version 0.9-16<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-16"></a></h2>
<ul><li>Bug fix: integer overflow issue arising with large problems (<a href="https://github.com/markmfredrickson/optmatch/issues/209" class="external-link">#209</a>)</li>
<li>Minor refinement of support for glms from <code><a href="https://rdrr.io/pkg/survey/man/svyglm.html" class="external-link">survey::svyglm()</a></code> (<a href="https://github.com/markmfredrickson/optmatch/issues/194" class="external-link">#194</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-15" id="changes-in-optmatch-version-09-15">Changes in <strong>optmatch</strong> Version 0.9-15<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-15"></a></h2><p class="text-muted">CRAN release: 2021-08-17</p>
<ul><li>Small bug fix related to <code>survey::mad</code> and <code>survey::med</code> interface</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-14" id="changes-in-optmatch-version-09-14">Changes in <strong>optmatch</strong> Version 0.9-14<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-14"></a></h2><p class="text-muted">CRAN release: 2021-05-26</p>
<ul><li>Bug fix: <code>within=</code> arguments to <code><a href="../reference/match_on-methods.html">match_on()</a></code>, or functions calling <code><a href="../reference/match_on-methods.html">match_on()</a></code> such as <code><a href="../reference/pairmatch.html">pairmatch()</a></code> or <code><a href="../reference/fullmatch.html">fullmatch()</a></code>, were sometimes ignored (<a href="https://github.com/markmfredrickson/optmatch/issues/181" class="external-link">#181</a>).</li>
<li>Binary operations on sparse matching distances now compare dimnames of the two before proceeding (<a href="https://github.com/markmfredrickson/optmatch/issues/190" class="external-link">#190</a>).</li>
<li>Bug fix: when <code><a href="../reference/fullmatch.html">fullmatch()</a></code> or <code><a href="../reference/pairmatch.html">pairmatch()</a></code> found it infeasible to create matches within an exact matching category, under some circumstances all members of that category were being placed into a single category labeled <code>1.NA</code>, or <code>2.NA</code> etc. Instead, all members of that category are now <code>NA</code> (<a href="https://github.com/markmfredrickson/optmatch/issues/203" class="external-link">#203</a>).</li>
<li>Fixed a bug causing <code><a href="../reference/match_on-methods.html">match_on()</a></code>, <code><a href="../reference/scores.html">scores()</a></code> to misinterpret propensity or other scores fitted with <code><a href="https://rdrr.io/pkg/survey/man/svyglm.html" class="external-link">survey::svyglm()</a></code> (<a href="https://github.com/markmfredrickson/optmatch/issues/194" class="external-link">#194</a>).</li>
<li>
<code><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot()</a></code> gains a method for <code>svyglm</code> objects, e.g. propensity score models fitted with case weights via <code><a href="https://rdrr.io/pkg/survey/man/svyglm.html" class="external-link">survey::svyglm()</a></code> (<a href="https://github.com/markmfredrickson/optmatch/issues/194" class="external-link">#194</a>).</li>
<li>The meaning of one of <code><a href="../reference/match_on-methods.html">match_on.glm()</a></code>’s arguments has changed slightly: to circumvent scale standardization when matching on a propensity score or other index, you should now pass <code>standardization.scale = 1</code>, not <code>standardization.scale = NULL</code> (<a href="https://github.com/markmfredrickson/optmatch/issues/194" class="external-link">#194</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-12" id="changes-in-optmatch-version-09-12">Changes in <strong>optmatch</strong> Version 0.9-12<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-12"></a></h2><p class="text-muted">CRAN release: 2019-10-11</p>
<ul><li>Fixed a bug causing <code><a href="../reference/optmatch.html">summary.optmatch()</a></code> to fail b/c of NAs in the treatment variable (<a href="https://github.com/markmfredrickson/optmatch/issues/155" class="external-link">#155</a>).</li>
<li>Fixed bug with using custom distance functions (<a href="https://github.com/markmfredrickson/optmatch/issues/180" class="external-link">#180</a>) and updated documentation related to custom distance functions.</li>
<li>Fixed minor compatibility error in R-devel for math operations on sparse distance matrices (<a href="https://github.com/markmfredrickson/optmatch/issues/179" class="external-link">#179</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-11" id="changes-in-optmatch-version-09-11">Changes in <strong>optmatch</strong> Version 0.9-11<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-11"></a></h2><p class="text-muted">CRAN release: 2019-07-12</p>
<ul><li>Added <code>exclude</code> argument to <code><a href="../reference/match_on-methods.html">match_on()</a></code> mirroring the <code>exclude</code> argument for <code><a href="../reference/caliper-methods.html">caliper()</a></code>.</li>
<li>
<code>Optmatch</code> objects now support an <code><a href="https://rdrr.io/r/stats/update.html" class="external-link">update()</a></code> function, <code>update.Optmatch()</code>. (<a href="https://github.com/markmfredrickson/optmatch/issues/54" class="external-link">#54</a>)</li>
<li>
<code>Optmatch</code> objects can be combined via a <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> function, <code>c.Optmatch()</code>. (<a href="https://github.com/markmfredrickson/optmatch/issues/68" class="external-link">#68</a>)</li>
<li>Added support for <code>labelled</code> treatment vectors which often arise when importing from Stata or SPSS. (<a href="https://github.com/markmfredrickson/optmatch/issues/159" class="external-link">#159</a>)</li>
<li>Introduced more informative error messages in a few situations. (<a href="https://github.com/markmfredrickson/optmatch/issues/149" class="external-link">#149</a>, <a href="https://github.com/markmfredrickson/optmatch/issues/104" class="external-link">#104</a>)</li>
<li>Better handling of NA’s in variables involved in matching/calipering/exactMatching. (<a href="https://github.com/markmfredrickson/optmatch/issues/147" class="external-link">#147</a>)</li>
<li>Fixed a bug with incorrect results in <code><a href="../reference/matched.html">matchfailed()</a></code>. (<a href="https://github.com/markmfredrickson/optmatch/issues/175" class="external-link">#175</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-10" id="changes-in-optmatch-version-09-10">Changes in <strong>optmatch</strong> Version 0.9-10<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-10"></a></h2><p class="text-muted">CRAN release: 2018-07-12</p>
<ul><li>Minor release to fix warnings during CRAN checks.</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-9" id="changes-in-optmatch-version-09-9">Changes in <strong>optmatch</strong> Version 0.9-9<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-9"></a></h2><p class="text-muted">CRAN release: 2018-05-14</p>
<ul><li>Fixed a bug that caused the effective sample size to be rounded too aggresively in <code><a href="../reference/optmatch.html">summary.optmatch()</a></code>.</li>
<li>Improved several error messages and warnings. (<a href="https://github.com/markmfredrickson/optmatch/issues/138" class="external-link">#138</a>, <a href="https://github.com/markmfredrickson/optmatch/issues/149" class="external-link">#149</a>, <a href="https://github.com/markmfredrickson/optmatch/issues/142" class="external-link">#142</a>)</li>
<li>Fixed use of <code>if(vectorOfThings)</code> usage that will give an error in upcoming R release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-8" id="changes-in-optmatch-version-09-8">Changes in <strong>optmatch</strong> Version 0.9-8<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-8"></a></h2><p class="text-muted">CRAN release: 2018-01-16</p>
<ul><li>If pairmatch is asked to match within a stratum with fewer eligible controls than <code>controls</code> times the number of treatments, it now attempts to match in that stratum by leaving out some of the treatment units. (<a href="https://github.com/markmfredrickson/optmatch/issues/116" class="external-link">#116</a>)</li>
<li>The treatment indicator must be either numeric 0/1 (1 for treatment, 0 for control) or logical (TRUE for treatment, FALSE for control).</li>
<li>Support for any other type of treatment vector (factors, character, other numerical values) has been deprecated. You can easily update treatment vectors using conditional statements, e.g. if you have a character “T” and “C”, <code>treatment_new = treatment == "T"</code>.</li>
<li>The treatment indicator can now include NA’s. Any observations with NA treatment status will be excluded from distances matrices and will never match. WARNING: if the <code>data</code> argument is excluded from <code><a href="../reference/fullmatch.html">fullmatch()</a></code> or <code><a href="../reference/pairmatch.html">pairmatch()</a></code> and <code>num_NA</code> &gt; 0 entries in the treatment status vector are NA, then the length of the vector produced by <code><a href="../reference/fullmatch.html">fullmatch()</a></code> or <code><a href="../reference/pairmatch.html">pairmatch()</a></code> won’t match the length of the treatment status vector, having <code>num_NA</code> fewer observations. Don’t forget to pass a <code>data</code> argument!</li>
<li>Fixed bug affecting rank Mahalanobis matching in combination with calipers and/or exact matching constraints (<a href="https://github.com/markmfredrickson/optmatch/issues/128" class="external-link">#128</a>)</li>
<li>Addressed an issue affecting certain problems with both exact matching and caliper restrictions, where <code>min.controls</code>/<code>mean.controls</code>/<code>max.controls</code> directives would have been mistakenly applied to the wrong subclasses, resulting in strange warnings and, potentially, spurious match failures or unintended structural restrictions in some subclasses (<a href="https://github.com/markmfredrickson/optmatch/issues/129" class="external-link">#129</a>).</li>
<li>Structural restrictions allowing only many-one matches no longer cause <code><a href="../reference/fullmatch.html">fullmatch()</a></code> to automatically fail. I.e. we’ve restored the behaviour of the software prior to version 0.8. (<a href="https://github.com/markmfredrickson/optmatch/issues/132" class="external-link">#132</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-7" id="changes-in-optmatch-version-09-7">Changes in <strong>optmatch</strong> Version 0.9-7<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-7"></a></h2><p class="text-muted">CRAN release: 2016-12-29</p>
<ul><li>Added support for <strong>CBPS</strong> created objects (<a href="https://github.com/markmfredrickson/optmatch/issues/121" class="external-link">#121</a>).</li>
<li>Improvments to documentation for several functions.</li>
<li>Several small bugfixes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-6" id="changes-in-optmatch-version-09-6">Changes in <strong>optmatch</strong> Version 0.9-6<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-6"></a></h2><p class="text-muted">CRAN release: 2016-05-03</p>
<ul><li>New material in vignettes, on general use of the package and on import/export of matching results and material between R and SAS or Stata (Josh Errickson).</li>
<li>New <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> methods for <code>InfinitySparseMatrix</code> (<code><a href="../reference/summary.ism.html">summary.InfinitySparseMatrix()</a></code>), <code>BlockedInfinitySparseMatrix</code>, (<code><a href="../reference/summary.ism.html">summary.BlockedInfinitySparseMatrix()</a></code>) and <code>DenseMatrix</code> (<code><a href="../reference/summary.ism.html">summary.DenseMatrix()</a></code>). I.e., you can call <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> on the result of a call to <code><a href="../reference/match_on-methods.html">match_on()</a></code> or <code><a href="../reference/caliper-methods.html">caliper()</a></code>. The information this returns may be useful for selecting caliper widths, and for managing computational burdens with large matching problems.</li>
<li>Streamlined combinations of exact and propensity score matching. If you include “+ strata(fac)” on the right hand side of a propensity scoring model formula, then pass the fitted model to <code><a href="../reference/pairmatch.html">pairmatch()</a></code>, <code><a href="../reference/fullmatch.html">fullmatch()</a></code> or <code><a href="../reference/match_on-methods.html">match_on()</a></code>, then the factor “fac” will both serve as an independent variable for the propensity model and an exact matching variable (<a href="https://github.com/markmfredrickson/optmatch/issues/101" class="external-link">#101</a>). See the examples on the help documentation for <code><a href="../reference/fullmatch.html">fullmatch()</a></code>.</li>
<li>
<code><a href="../reference/pairmatch.html">pairmatch()</a></code> and <code><a href="../reference/fullmatch.html">fullmatch()</a></code> no longer generate “matched.distances” attributes for their results. To get this information, use <code><a href="../reference/matched.distances.html">matched.distances()</a></code>.</li>
<li>(Internal) methods for sorting of InfinitySparseMatrix’s</li>
<li>Deprecated: support passing the results of <code><a href="../reference/fill.NAs.html">fill.NAs()</a></code> directly to <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm()</a></code> or similar. Use the traditional formula and <code>data</code> argument version. See help documentation for <code><a href="../reference/fill.NAs.html">fill.NAs()</a></code> for examples.</li>
<li>Fixed: Rcpp incompatibilities for some OSX users (4bbcaca); <code><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot()</a></code> method for fitted propensities ignoring varwidth argument (<a href="https://github.com/markmfredrickson/optmatch/issues/113" class="external-link">#113</a>); various minor issues affecting package development and deployment (<a href="https://github.com/markmfredrickson/optmatch/issues/110" class="external-link">#110</a>,…).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-5" id="changes-in-optmatch-version-09-5">Changes in <strong>optmatch</strong> Version 0.9-5<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-5"></a></h2><p class="text-muted">CRAN release: 2015-07-31</p>
<ul><li>Documentation adjustments.</li>
<li>Explicit print method for output from explicit calls to <code><a href="../reference/stratumStructure.html">stratumStructure()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-4" id="changes-in-optmatch-version-09-4">Changes in <strong>optmatch</strong> Version 0.9-4<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-4"></a></h2>
<ul><li>Significant speed up of math operations for sparse distance objects (by Josh Buckner).</li>
<li>Introducing <code>contr.match_on()</code>, a new default contrasts function for making Mahalanobis and Euclidean distances. Previously we used R defaults, which (a) generated different answers for the same factor depending on the ordering of the levels and (b) led to different distances for {0,1}-valued numeric variables and two level factors. (<a href="https://github.com/markmfredrickson/optmatch/issues/80" class="external-link">#80</a>)</li>
<li>match_on now takes strata as element of formula. Now users can write: match_on(z ~ x1 + x2 + strata(exactMatchVar)) Instead of match_on(z ~ x1 + x2, within = exactMatch(z ~ exactMatchVar))</li>
<li>Fixed bug giving spurious infeasibility warnings, sample size reductions when using <code><a href="../reference/fullmatch.html">fullmatch()</a></code> with feasible combinations of <code>min.controls</code>, <code>mean.controls</code>/<code>max.controls</code> and <code>max.controls</code> (<a href="https://github.com/markmfredrickson/optmatch/issues/92" class="external-link">#92</a>)</li>
<li>Various small bug fixes and documentation improvements.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-3" id="changes-in-optmatch-version-09-3">Changes in <strong>optmatch</strong> Version 0.9-3<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-3"></a></h2><p class="text-muted">CRAN release: 2014-08-13</p>
<ul><li>Fixed memory issues, potential segfaults in solver code. (Thank you, Peter Solenberger).</li>
<li>Fixed bug in dropping cases with extraneous NAs when using <code><a href="../reference/fullmatch.html">fullmatch()</a></code> or <code><a href="../reference/pairmatch.html">pairmatch()</a></code> to create distance specifications directly.</li>
<li>Fixed bug (<a href="https://github.com/markmfredrickson/optmatch/issues/83" class="external-link">#83</a>) in <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm()</a></code> method for <code><a href="../reference/match_on-methods.html">match_on()</a></code> that caused observations with fixable NAs to be dropped too often.</li>
<li>New function <code><a href="../reference/distUnion.html">distUnion()</a></code> allows combining arbitrary distance specifications.</li>
<li>New function <code><a href="../reference/antiExactMatch.html">antiExactMatch()</a></code> provides for matches that may only occur between treated and control units with <em>different</em> values on a factor variable. This is the opposite of <code><a href="../reference/exactMatch.html">exactMatch()</a></code>, which ensures matches occur within factor levels.</li>
<li>Can now infer <code>data</code> argument in more cases when using the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method when the <strong>RItools</strong> package is present.</li>
<li>Additional warnings and clarifications.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-2" id="changes-in-optmatch-version-09-2">Changes in <strong>optmatch</strong> Version 0.9-2<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-2"></a></h2>
<ul><li>Fixed issue <a href="https://github.com/markmfredrickson/optmatch/issues/74" class="external-link">#74</a> by properly setting the <code>omit.fraction</code> argument when there are unmatched controls.</li>
<li>Improvements to the <code><a href="../reference/minExactMatch.html">minExactMatch()</a></code> function.</li>
<li>Added <code>optmatch_verbose_message</code> option to provide additional warnings.</li>
<li>Fixed crash when all NULL or NA vectors passed as arguments to <code><a href="../reference/fullmatch.html">fullmatch()</a></code>.</li>
<li>Added argument to <code><a href="../reference/caliper-methods.html">caliper()</a></code> function that allows returning values that fit the caliper instead of just indicators of which entries fit the caliper width.</li>
<li>Calipers widths can be given per-treated unit, instead of globally.</li>
<li>Additional binary operators for sparse matrix representations.</li>
<li>Added new ranked Mahalanobis method for the formula method of <code><a href="../reference/match_on-methods.html">match_on()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-1" id="changes-in-optmatch-version-09-1">Changes in <strong>optmatch</strong> Version 0.9-1<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-1"></a></h2><p class="text-muted">CRAN release: 2013-11-01</p>
<ul><li>Subsetting of <code>Optmatch</code> objects now preserves (and subsets) the subproblem attribute.</li>
<li>Performance improvements for match_on applied to glm’s.</li>
<li>The solver update of version 0.9-0 had a bug that in some circumstances caused hangups or malloc’s [Issue <a href="https://github.com/markmfredrickson/optmatch/issues/70" class="external-link">#70</a>]. We believe this is now fixed – but please notify maintainer if you continue to experience the problem. (If you do, we’ll reward you with an easy workaround.)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9-0" id="changes-in-optmatch-version-09-0">Changes in <strong>optmatch</strong> Version 0.9-0<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-09-0"></a></h2><p class="text-muted">CRAN release: 2013-08-10</p>
<div class="section level3">
<h3 id="new-features-0-9-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h3>
<ul><li><p>Solver limits now depend on machine limits, not arbitrary constants defined by the <strong>optmatch</strong> maintainers. For large problems, users will see a warning, but the solver will attempt to solve.</p></li>
<li><p><code><a href="../reference/fullmatch.html">fullmatch()</a></code> and <code><a href="../reference/pairmatch.html">pairmatch()</a></code> can now take distance generating arguments directly, instead of having to first call <code><a href="../reference/match_on-methods.html">match_on()</a></code>. See the documentation for these two functions for more details.</p></li>
<li><p>Infeasibility recovery in <code><a href="../reference/fullmatch.html">fullmatch()</a></code>. When passing a combination of constraints (e.g. <code>max.controls</code>) that would make the matching infeasible, <code><a href="../reference/fullmatch.html">fullmatch()</a></code> will now attempt to find a feasible match that respects those constraints, which will likely result in omitting some controls units.</p></li>
<li><p>An additional argument to <code><a href="../reference/fullmatch.html">fullmatch()</a></code>, <code>mean.controls</code>, is an alternative to the previous <code>omit.fraction</code>. (Only one of the two arguments can be presented.) The match will attempt to average mean.controls number of controls per treatment.</p></li>
<li><p>Each <code>Optmatch</code> object now carries with it the constraints used to generate it (e.g. <code>max.controls</code>) as well as a hashed version of the distance it matched up, to help with some debugging/error checking but avoiding having to carry the entire distance matrix around.</p></li>
<li><p>Creating a distance matrix prior to matching is now optional. <code><a href="../reference/fullmatch.html">fullmatch()</a></code> now accepts arguments from which <code><a href="../reference/match_on-methods.html">match_on()</a></code> would create a distance, and create the match behind the scenes.</p></li>
<li><p>Performance enhancements for distance calculations.</p></li>
<li><p>Several new utility functions, including <code><a href="../reference/subdim-methods.html">subdim()</a></code>, <code><a href="../reference/optmatch_restrictions.html">optmatch_restrictions()</a></code>, <code><a href="../reference/optmatch_same_distance.html">optmatch_same_distance()</a></code>, <code><a href="../reference/num_eligible_matches-methods.html">num_eligible_matches()</a></code>. See their help documentation for additional details.</p></li>
<li><p>Arithmetic operations between InfinitySparseMatrices and vectors are supported. The operation is carried out as column by vector steps.</p></li>
<li><p><code><a href="../reference/scores.html">scores()</a></code> function allows including model predictions (such as propensity scores) in formulas directly (such as combining multiple propensity scores). The <code><a href="../reference/scores.html">scores()</a></code> function is preferred to predict() as it makes several smart choices to avoid dropping observations due to partial missingness and other useful preparations for matching.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h3>
<ul><li><p><code><a href="../reference/match_on-methods.html">match_on()</a></code> is now a S3 generic function, which solves several bugs using propensity models from other packages.</p></li>
<li><p><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method was giving overly pessimistic warnings about failures.</p></li>
<li><p>fixed bug in how <code>Optmatch</code> objects were printing.</p></li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-and-defunct-0-9-0">DEPRECATED AND DEFUNCT<a class="anchor" aria-label="anchor" href="#deprecated-and-defunct-0-9-0"></a></h3>
<ul><li>
<code><a href="../reference/mdist.html">mdist()</a></code> is now deprecated, in favor of <code><a href="../reference/match_on-methods.html">match_on()</a></code>.</li></ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-3" id="changes-in-optmatch-version-08-3">Changes in <strong>optmatch</strong> Version 0.8-3<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-08-3"></a></h2><p class="text-muted">CRAN release: 2013-05-16</p>
<ul><li>Changes to make examples compatible with PDF manual</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-2" id="changes-in-optmatch-version-08-2">Changes in <strong>optmatch</strong> Version 0.8-2<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-08-2"></a></h2>
<ul><li><p><code><a href="../reference/fullmatch.html">full()</a></code> and <code><a href="../reference/pairmatch.html">pair()</a></code> are now aliases to <code><a href="../reference/fullmatch.html">fullmatch()</a></code> and <code><a href="../reference/pairmatch.html">pairmatch()</a></code></p></li>
<li><p>All <code><a href="../reference/match_on-methods.html">match_on()</a></code> methods take <code>caliper</code> arguments (formerly just the numeric method and derived methods had this argument).</p></li>
<li><p>boxplot methods for fitted propensity score methods (<code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm()</a></code> and <code>bigglm()</code>)</p></li>
<li><p><code><a href="../reference/fill.NAs.html">fill.NAs()</a></code> now takes <code>contrasts.arg</code> argument to mimic <code><a href="https://rdrr.io/pkg/SparseM/man/SparseM.hb.html" class="external-link">model.matrix()</a></code></p></li>
<li><p>Several bug fixes in examples, documentation</p></li>
<li><p>The methods <code><a href="../reference/optmatch-defunct.html">pscore.dist()</a></code> and <code><a href="../reference/optmatch-defunct.html">mahal.dist()</a></code> are now deprecated, with useful error messages pointing users to replacements.</p></li>
<li><p>Significant performance improvements for sparse matching problems.</p></li>
<li><p>Functions <code>umatched()</code> and <code><a href="../reference/matched.html">matched()</a></code> were backwards. Corrected.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-1" id="changes-in-optmatch-version-08-1">Changes in <strong>optmatch</strong> Version 0.8-1<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-08-1"></a></h2><p class="text-muted">CRAN release: 2013-01-03</p>
<ul><li>Several small bug fixes</li></ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8-0" id="changes-in-optmatch-version-08-0">Changes in <strong>optmatch</strong> Version 0.8-0<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-08-0"></a></h2><p class="text-muted">CRAN release: 2012-11-17</p>
<div class="section level3">
<h3 id="new-features-0-8-0">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-8-0"></a></h3>
<ul><li><p>More efficient data structure for sparse matching problems, those with relatively few allowed (finite) distances between units. Sparse problems often arise when calipers are employed. The new data structure (<code>InfinitySparseMatrix</code>) behaves like a simple matrix, allowing <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code>, <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code>, and <code><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset()</a></code> operations, making it easier to work with the older <code>optmatch.dlist</code> data structure.</p></li>
<li><p><code><a href="../reference/match_on-methods.html">match_on()</a></code>: A series of methods to generate matching problems using the new data structure when appropriate, or using a standard matrix when the problem is dense. This function is being deployed along side the <code><a href="../reference/mdist.html">mdist()</a></code> function to provide complete backward compatibility. New development will focus on this function for distance creation, and users are encouraged to use it right away. One difference for <code><a href="../reference/mdist.html">mdist()</a></code> users is the <code>within</code> argument. This argument takes an existing distance specification and limits the new comparisons to only those pairs that have finite distances in the <code>within</code> argument. See the <code><a href="../reference/match_on-methods.html">match_on()</a></code>, <code><a href="../reference/exactMatch.html">exactMatch()</a></code>, and <code><a href="../reference/caliper-methods.html">caliper()</a></code> documentation for more details.</p></li>
<li><p><code><a href="../reference/exactMatch.html">exactMatch()</a></code>: A new function to create stratified matching problems (in which cross strata matches are forbidden). Users can specify the strata using either a factor vector or a convenient formula interface. The results can be used in calls <code><a href="../reference/match_on-methods.html">match_on()</a></code> to limit distance calculations to only with-in strata treatment-control pairs.</p></li>
<li><p>New <code>data</code> argument to <code><a href="../reference/fullmatch.html">fullmatch()</a></code> and <code><a href="../reference/pairmatch.html">pairmatch()</a></code>: This argument will set the order of the match to that of the <code>row.names</code>, <code>names</code>, or contents of the passed <code>data.frame</code> or <code>vector</code>. This avoids potential bugs caused when the <code>optmatch</code> objects were in a different order than users’ data.</p></li>
<li><p>Test suite expanded and now uses the <strong>testthat</strong> library.</p></li>
<li><p><code><a href="../reference/fill.NAs.html">fill.NAs()</a></code> allows (optionally) filling in all columns (previously, the first column was assumed to be an outcome or treatment indicator and was not filled in).</p></li>
<li><p>New tools to find minimum feasible constraints: Large matching problems could exceed the upper limit for a matching problem. The functions <code>minExactmatch()</code> and <code><a href="../reference/maxCaliper.html">maxCaliper()</a></code> find the smallest interaction of potential factors for stratified matchings or the largest (most generous) caliper, respectively, that make the problem small enough to fit under the maximum problem size limit. See the help pages for these functions for more information.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-8-0">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-0"></a></h3>
<ul><li>Unmatched units are always NA (instead of being labeled <code>1.NA</code> or similar). This avoids some obscure bugs when feeding the results of <code><a href="../reference/fullmatch.html">fullmatch()</a></code> to other functions.</li></ul><p>FOR A DETAILED CHANGELOG, SEE <a href="https://github.com/markmfredrickson/optmatch" class="external-link uri">https://github.com/markmfredrickson/optmatch</a></p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7-1" id="changes-in-optmatch-version-07-1">Changes in <strong>optmatch</strong> Version 0.7-1<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-07-1"></a></h2><p class="text-muted">CRAN release: 2011-03-06</p>
<div class="section level3">
<h3 id="new-features-0-7-1">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-7-1"></a></h3>
<ul><li><p><code><a href="../reference/pairmatch.html">pairmatch()</a></code> has a new option, <code>remove.unmatchables</code>, that may be useful in conjunction with caliper matching. With <code>remove.unmatchables = TRUE</code>, prior to matching any units with no counterparts within caliper distance are removed. Pair matching can still fail, if for example for two distinct treatment units only a single control, the same one, is available for matching to them; but <code>remove.unmatchables</code> eliminates one simple and common reason for pair matching to fail.</p></li>
<li><p>Applying <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> to an optmatch object now creates a <code>summary.optmatch</code> containing the summary information, in addition to reporting it to the console (via a <code><a href="../reference/optmatch.html">summary.optmatch()</a></code> method for <code><a href="https://rdrr.io/pkg/RItools/man/print.xbal.html" class="external-link">print()</a></code>).</p></li>
<li><p><code><a href="../reference/mdist.html">mdist.formula()</a></code> no longer requires an explicit data argument. I.e., you can get away with a call like <code>mdist(Treat~X1+X2|S)</code> if the variables <code>Treat</code>, <code>X1</code>, <code>X2</code> and <code>S</code> are available in the environment you’re working from (or in one of its parent environments). Previously you would have had to do <code>mdist(Treat~X1+X2|S, data=mydata)</code>. (The latter formulation is still to be preferred, however, in part because with it <code><a href="../reference/mdist.html">mdist()</a></code> gets to use data’s row names, whereas otherwise it would have to make up row names.)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7" id="changes-in-optmatch-version-07">Changes in <strong>optmatch</strong> Version 0.7<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-07"></a></h2>
<div class="section level3">
<h3 id="new-features-0-7">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-7"></a></h3>
<ul><li>New function <code><a href="../reference/fill.NAs.html">fill.NAs()</a></code> replaces missing observations (ie. NA values) with minimally informative values (ie. the mean of observed columns). <code><a href="../reference/fill.NAs.html">fill.NAs()</a></code> handles functions in formulas intelligently and provides missing indicators for each variable. See the help documentation for more information and examples.</li></ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-7">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7"></a></h3>
<ul><li><p><code><a href="../reference/mdist.html">mdist.function()</a></code> method now properly returns an <code>optmatch.dlist</code> object for use in <code><a href="../reference/optmatch.html">summary.optmatch()</a></code>, etc.</p></li>
<li><p><code><a href="../reference/mdist.html">mdist.function()</a></code> maintains label on grouping factor.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6-1" id="changes-in-optmatch-version-06-1">Changes in <strong>optmatch</strong> Version 0.6-1<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-06-1"></a></h2><p class="text-muted">CRAN release: 2010-02-11</p>
<div class="section level3">
<h3 id="new-features-0-6-1">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-6-1"></a></h3>
<ul><li><p>New <code><a href="../reference/mdist.html">mdist()</a></code> method to extract propensity scores from models fitted using <code>bigglm()</code> in package <strong>biglm</strong>.</p></li>
<li><p><code><a href="../reference/mdist.html">mdist()</a></code>’s formula method now understands grouping factors indicated with a pipe (<code>|</code>)</p></li>
<li><p>informative error message for <code><a href="../reference/mdist.html">mdist()</a></code> called on numeric vectors</p></li>
<li><p>updated <code><a href="../reference/mdist.html">mdist()</a></code> documentation</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6" id="changes-in-optmatch-version-06">Changes in <strong>optmatch</strong> Version 0.6<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-06"></a></h2>
<div class="section level3">
<h3 id="new-features-0-6">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-0-6"></a></h3>
<ul><li><p>There is a new generic function, <code><a href="../reference/mdist.html">mdist()</a></code>, for creating matching distances. It accepts: fitted glm’s, which it uses to extract propensity distances; formulas, which it uses to construct squared Mahalanobis distances; and functions, with which a user can construct his or her own type of distance. The function method is more intuitive to work with than the older <code>makedist()</code> function.</p></li>
<li><p>A new function, <code><a href="../reference/caliper-methods.html">caliper()</a></code>, builds on the <code><a href="../reference/mdist.html">mdist()</a></code> structure to provide a convenient way to add calipers to a distance. In contrast to earlier ways of adding calipers, <code><a href="../reference/caliper-methods.html">caliper()</a></code> has an optional argument specify observations to be excluded from the caliper requirement — this permits one to relax it for just a few observations, for instance.</p></li>
<li><p><code><a href="../reference/optmatch.html">summary.optmatch()</a></code> now removes strata in which matching failed (b/c the matching problem was found to be infeasible) before summarizing. It also indicates when such strata are present, and how many observations fall in them.</p></li>
<li><p>Demo has been updated to reflect changes as of version 0.4, 0.5, 0.6.</p></li>
</ul></div>
<div class="section level3">
<h3 id="deprecated--defunct-0-6">DEPRECATED &amp; DEFUNCT<a class="anchor" aria-label="anchor" href="#deprecated--defunct-0-6"></a></h3>
<ul><li>The vignette is sufficiently out of date that it’s been removed.</li></ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-6">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6"></a></h3>
<ul><li><p>subsetting of objects of class <code>Optmatch</code> now preserves matched.distances attribute.</p></li>
<li><p>fixed bug in <code><a href="../reference/minmaxctlcap.html">maxControlsCap()</a></code>/<code><a href="../reference/minmaxctlcap.html">minControlsCap()</a></code> whereby they behaved unreliably on subclasses within which some subjects had no permissible matches.</p></li>
<li><p>Removed unnecessary panic in <code><a href="../reference/fullmatch.html">fullmatch()</a></code> when it was given a <code>min.controls</code> argument with attributes other than names (as when it is created by <code><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply()</a></code>).</p></li>
<li><p>fixed bug wherein <code><a href="../reference/optmatch.html">summary.optmatch()</a></code> fails to retrieve balance tests if given a propensity model that had function calls in its formula.</p></li>
<li><p>Documentation pages for <code><a href="../reference/fullmatch.html">fullmatch()</a></code>, <code><a href="../reference/pairmatch.html">pairmatch()</a></code> filled out a bit.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5" id="changes-in-optmatch-version-05">Changes in <strong>optmatch</strong> Version 0.5<a class="anchor" aria-label="anchor" href="#changes-in-optmatch-version-05"></a></h2>
<div class="section level3">
<h3 id="new-features-0-5">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-5"></a></h3>
<ul><li>
<code><a href="../reference/optmatch.html">summary.optmatch()</a></code> completely revised. It now reports information about the configuration of the matched sets and about matched distances. In addition, if given a fitted propensity model as a second argument it summarizes covariate balance.</li></ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ben Hansen, Mark Fredrickson, Josh Errickson, Josh Buckner.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

